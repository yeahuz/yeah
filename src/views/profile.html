<div class="flex flex-col space-y-8 md:space-y-0 md:flex-row md:space-x-8 max-w-7xl mx-auto my-20 px-4 xl:px-0">
  <div class="bg-white shadow-sm rounded-lg p-5 flex items-center flex-col md:items-start md:max-w-xs w-full dark:bg-zinc-900 dark:border dark:border-zinc-800">
    <% if (it.profile.profile_photo_url) { %>
      <img
        referrerpolicy="no-referrer"
        src="<%= it.profile.profile_photo_url %>/public"
        srcset="<%= it.generate_srcset(it.profile.profile_photo_url, "fit=scale-down", 4) %>"
        alt=""
        class="w-36 h-36 rounded-full overflow-hidden object-cover"
        crossorigin
      />
    <% } else { %>
    <div class="w-36 h-36 rounded-full bg-gray-300 flex items-center justify-center text-gray-500">
      <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-16 h-16">
        <path d="M3 20C5.33579 17.5226 8.50702 16 12 16C15.493 16 18.6642 17.5226 21 20M16.5 7.5C16.5 9.98528 14.4853 12 12 12C9.51472 12 7.5 9.98528 7.5 7.5C7.5 5.01472 9.51472 3 12 3C14.4853 3 16.5 5.01472 16.5 7.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
    <% } %>
    <% if (it.profile.name) { %>
      <div class="flex items-center space-x-3 mt-4">
        <span class="text-gray-900 font-semibold text-lg dark:text-white"><%= it.profile.name %></span>
        <% if (it.profile.verified) { %>
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_169_21540)">
            <path d="M12.3553 2.83357C12.5073 3.20109 12.7989 3.49321 13.1662 3.64573L14.4541 4.17919C14.8217 4.33143 15.1137 4.62344 15.2659 4.99098C15.4182 5.35852 15.4182 5.77149 15.2659 6.13903L14.7328 7.426C14.5805 7.7937 14.5803 8.20709 14.7333 8.57461L15.2655 9.8612C15.3409 10.0432 15.3798 10.2384 15.3798 10.4354C15.3799 10.6325 15.3411 10.8276 15.2657 11.0097C15.1902 11.1918 15.0797 11.3572 14.9403 11.4965C14.801 11.6358 14.6355 11.7463 14.4534 11.8217L13.1665 12.3547C12.7989 12.5067 12.5068 12.7984 12.3543 13.1657L11.8208 14.4536C11.6686 14.8211 11.3766 15.1131 11.009 15.2654C10.6415 15.4176 10.2285 15.4176 9.86099 15.2654L8.57403 14.7323C8.20648 14.5804 7.79366 14.5807 7.42634 14.7331L6.13845 15.2658C5.77111 15.4177 5.3585 15.4176 4.99126 15.2655C4.62402 15.1134 4.33217 14.8217 4.17982 14.4546L3.6462 13.1663C3.49424 12.7988 3.20256 12.5066 2.83527 12.3541L1.54738 11.8207C1.18 11.6685 0.888079 11.3767 0.735782 11.0093C0.583484 10.642 0.583278 10.2292 0.735207 9.86175L1.26829 8.57478C1.42015 8.20723 1.41984 7.79441 1.26742 7.42709L0.73511 6.13828C0.659639 5.95624 0.620777 5.76111 0.620746 5.56405C0.620714 5.36698 0.659513 5.17185 0.734926 4.98978C0.810339 4.80772 0.920888 4.6423 1.06026 4.50298C1.19962 4.36365 1.36508 4.25316 1.54716 4.1778L2.83413 3.64473C3.20132 3.4929 3.49327 3.20158 3.6459 2.83472L4.17936 1.54683C4.3316 1.17929 4.62361 0.887277 4.99115 0.735036C5.3587 0.582795 5.77166 0.582795 6.1392 0.735036L7.42617 1.26811C7.79372 1.41998 8.20654 1.41967 8.57386 1.26725L9.86229 0.735862C10.2298 0.583707 10.6427 0.583738 11.0101 0.735949C11.3776 0.88816 11.6696 1.18009 11.8218 1.54753L12.3555 2.8358L12.3553 2.83357Z" fill="#0788F5"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M11.1333 5.90291C11.2401 5.73503 11.276 5.53157 11.2328 5.33728C11.1897 5.14299 11.0711 4.9738 10.9033 4.86691C10.7354 4.76003 10.5319 4.72422 10.3376 4.76735C10.1433 4.81048 9.97414 4.92903 9.86726 5.09691L6.93026 9.71191L5.58626 8.03191C5.46201 7.8765 5.2811 7.7768 5.08335 7.75477C4.88559 7.73273 4.68718 7.79016 4.53176 7.91441C4.37634 8.03867 4.27665 8.21957 4.25462 8.41733C4.23258 8.61508 4.29001 8.8135 4.41426 8.96891L6.41426 11.4689C6.4888 11.5622 6.58453 11.6363 6.6935 11.6852C6.80246 11.734 6.92151 11.7561 7.04075 11.7497C7.15998 11.7432 7.27595 11.7084 7.37901 11.6481C7.48206 11.5877 7.56923 11.5037 7.63326 11.4029L11.1333 5.90291V5.90291Z" fill="white"/>
            </g>
            <defs>
            <clipPath id="clip0_169_21540">
            <rect width="16" height="16" fill="white"/>
            </clipPath>
            </defs>
          </svg>
        <% } %>
      </div>
    <% } %>
    <% if (it.profile.username) {%>
      <span class="text-gray-500 text-sm"><%= it.profile.username %></span>
    <% } %>
      <% if (it.current_user?.id === it.profile?.id) {%>
        <a href="/settings/details" class="btn btn-secondary-color mt-6 w-full !hidden lg:!flex"><%= it.t("edit_profile", { ns: "profile" }) %></a>
        <a href="/settings" class="btn btn-secondary-color mt-6 w-full lg:!hidden"><%= it.t("edit_profile", { ns: "profile" }) %></a>
      <% } %>
  </div>
  <div class="w-full">
    <ul class="flex gap-2">
      <li class="flex-1">
        <a
          class="btn btn-md <%= it.ps === 'active' ? 'btn-secondary-color no-hover' : 'btn-tertiary-color'%> w-full"
          href="/me?ps=active">
          <%= it.t("active", { ns: "profile" })%></a
        >
      </li>
      <li class="flex-1">
        <a
          class="btn btn-md <%= it.ps === 'archived' ? 'btn-secondary-color no-hover' : 'btn-tertiary-color'%>"
          href="/me?ps=archived"
          ><%= it.t("archived", { ns: "profile" }) %></a
        >
      </li>
    </ul>
  </div>
</div>
<script>
 document.title = "<%= it.profile.name || it.t("profile", { ns: "common" }) %> | Needs"
</script>
