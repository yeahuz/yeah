<div class="max-w-sm mx-auto space-y-8 mt-20 px-4">
  <h1 class="font-semibold text-4xl text-gray-900"><%= it.t("title", { ns: "login"}) %></h1>
  <%~ includeFile('../partials/flash.html', it) %>
  <form action="/auth/login" method="post" class="js-login-form">
    <input type="hidden" name="nonce" value="<%= it.nonce %>" />
    <label class="text-sm font-medium text-gray-700">
      <%= it.t("email.label", { ns: "login"}) %> <input type="text" autocomplete="tel email" class="form-control mt-2"
      placeholder="<%= it.t("email.placeholder", { ns: "login" }) %>" name="email_phone"
      pattern="^(\+?998[0-9]{9})|(\w+@\w+\.\w{2,3})$" required />
    </label>
    <label class="text-sm font-medium text-gray-700 mt-5 block">
      <%= it.t("password.label", { ns: "login" }) %> <input type="password" class="form-control
      mt-2" name="password" placeholder="<%= it.t("password.placeholder", { ns: "login" }) %>"
      required minlength="6" />
    </label>
    <button class="btn btn-primary btn-lg w-full mt-6">
      <%= it.t("login", { ns: "common" }) %>
    </button>
    <div class="grid place-items-center mt-4">
      <div
        class="g_id_signin"
        data-type="standard"
        data-text="continue_with"
        data-width="234"
        data-size="large"
        data-shape="square"
        logo_alignment="left"
      ></div>
    </div>
    <noscript>
      <a
        class="btn btn-secondary btn-lg btn-enabled w-full mt-4"
        href="//accounts.google.com/o/oauth2/auth?client_id=<%= it.google_oauth_client_id %>&state=<%= it.oauth_state %>&scope=email profile&response_type=code&return_to=http://localhost:3000/auth/google"
      >
        <svg
          width="25"
          height="24"
          viewBox="0 0 25 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          class="mr-3"
        >
          <g clip-path="url(#clip0_188_7828)">
            <path
              d="M24.2663 12.2763C24.2663 11.4605 24.2001 10.6404 24.059 9.83789H12.7402V14.4589H19.222C18.953 15.9492 18.0888 17.2676 16.8233 18.1054V21.1037H20.6903C22.9611 19.0137 24.2663 15.9272 24.2663 12.2763Z"
              fill="#4285F4"
            />
            <path
              d="M12.7401 24.0008C15.9766 24.0008 18.7059 22.9382 20.6945 21.1039L16.8276 18.1055C15.7517 18.8375 14.3627 19.252 12.7445 19.252C9.61388 19.252 6.95946 17.1399 6.00705 14.3003H2.0166V17.3912C4.05371 21.4434 8.2029 24.0008 12.7401 24.0008V24.0008Z"
              fill="#34A853"
            />
            <path
              d="M6.00277 14.3002C5.50011 12.8099 5.50011 11.196 6.00277 9.70569V6.61475H2.01674C0.314734 10.0055 0.314734 14.0004 2.01674 17.3912L6.00277 14.3002V14.3002Z"
              fill="#FBBC04"
            />
            <path
              d="M12.7401 4.74966C14.4509 4.7232 16.1044 5.36697 17.3434 6.54867L20.7695 3.12262C18.6001 1.0855 15.7208 -0.034466 12.7401 0.000808666C8.2029 0.000808666 4.05371 2.55822 2.0166 6.61481L6.00264 9.70575C6.95065 6.86173 9.60947 4.74966 12.7401 4.74966V4.74966Z"
              fill="#EA4335"
            />
          </g>
          <defs>
            <clipPath id="clip0_188_7828">
              <rect width="24" height="24" fill="white" transform="translate(0.5)" />
            </clipPath>
          </defs>
        </svg>
        <%= it.t("with_google", { ns: "login"}) %>
      </a>
    </noscript>
    <div class="mt-3 grid place-items-center w-full">
      <script
        async
        src="https://telegram.org/js/telegram-widget.js?19"
        data-telegram-login="yeahauthbot"
        data-size="large"
        data-radius="4"
        data-onauth="telegram_callback(user)"
        data-request-access="write"
      ></script>
    </div>
  </form>
  <p class="text-center font-medium text-gray-500">
    <%= it.t("no_account", { ns: "login"}) %>
    <a href="/auth/signup" class="text-primary-600"
      ><%= it.t("create_account", { ns: "common" }) %></a
    >
  </p>
</div>
<div
  id="g_id_onload"
  data-client_id="<%= it.google_oauth_client_id %>"
  data-callback="handle_google_one_tap"
  itp_support="true"
></div>
<script type="module" src="/public/js/identity-handlers.js" defer></script>
<script src="https://accounts.google.com/gsi/client" defer></script>
<script type="module" src="/public/js/auth.js" async defer></script>
